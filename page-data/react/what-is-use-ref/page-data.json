{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/react/what-is-use-ref/",
    "result": {"data":{"posts":{"edges":[{"node":{"id":"e0dba5c7-602b-5b02-aeb8-f3434b9a9c24","html":"<h1>들어가며</h1>\n<p>React 의 Hook 함수 중 하나인 useRef 에 대해 정리했습니다. useRef의 개념과 대표적인 3가지 활용 방법을 예시 코드를 통해 살펴보겠습니다.</p>\n<ol>\n<li>\n<p>특정 DOM 선택하기</p>\n</li>\n<li>\n<p>컴포넌트 안의 변수 만들기</p>\n</li>\n<li>\n<p>리렌더링 방지하기</p>\n</li>\n</ol>\n<h1>1. useRef 가 무엇인가요? 📑</h1>\n<p><img src=\"https://drek4537l1klr.cloudfront.net/larsen3/v-3/Figures/06_img_0004.png\" alt=\"useRef\"></p>\n<blockquote>\n<p>useRef는 <code>.current</code>프로퍼티로 전달된 인자(initialValue)로 초기화된 변경 가능한 <code>ref</code>객체를 반환합니다. 반환된 객체는 컴포넌트의 전 생애주기를 통해 유지될 것입니다. 본질적으로 useRef는 <strong><code>.current</code>프로퍼티에 변경 가능한 값을 담고 있는 상자</strong>와 같습니다.</p>\n</blockquote>\n<p>React 공식 문서에 적혀 있는 useRef 정의입니다. useRef 사용 예제를 통해 위 정의에 대해 자세히 알아보겠습니다.</p>\n<h1>2. useRef 를 언제 사용하나요? 🤨</h1>\n<h2>2-1. 특정 DOM 선택하기 🎯</h2>\n<p><img src=\"https://learnjavascriptfast.com/wp-content/uploads/2017/12/Javascript-DOM-1.png\" alt=\"JS-DOM\"></p>\n<p>JavaScript 를 사용할 때는, 특정 DOM 을 선택해야 하는 상황에 <code>getElementById</code>, <code>querySelector</code> 같은 DOM Selector 함수를 사용해서 DOM 을 선택합니다.</p>\n<blockquote>\n<p>리액트에서는 DOM 을 선택할 때 <code>ref</code> 를 사용합니다. <strong>함수형 컴포넌트</strong>에서 ref 를 사용할 때는 <strong>useRef 라는 Hook 함수</strong>를 사용하고 <strong>클래스형 컴포넌트에서</strong>는 <strong>콜백 함수를 사용하거나 React.createRef 라는 함수</strong>를 사용합니다.</p>\n</blockquote>\n<p>이 글에서는 함수형 컴포넌트의 useRef 를 사용합니다.</p>\n<h2>2-2. 컴포넌트 안의 변수 만들기 🔢</h2>\n<p>컴포넌트 안에서 조회 및 수정할 수 있는 변수를 관리할 수 있습니다.</p>\n<blockquote>\n<p>useRef 로 관리하는 변수는 값이 바뀐다고 해서 컴포넌트가 리렌더링되지 않습니다. 리액트 컴포넌트에서의 상태는 상태를 바꾸는 함수를 호출하고 나서 그다음 렌더링 이후로 업데이트된 상태를 조회할 수 있지만, <strong>useRef 로 관리하는 변수는 설정 후 바로 조회</strong>할 수 있습니다.</p>\n</blockquote>\n<p>이 변수를 사용하여 다음과 같은 값을 관리할 수 있습니다.</p>\n<ul>\n<li><code>setTimeout</code>, <code>setInterval</code>을 통해서 만들어진 <code>id</code></li>\n<li>외부 라이브러리를 사용하여 생성된 인스턴스</li>\n<li><code>scroll</code>위치</li>\n</ul>\n<h2>2-3. 리렌더링 방지하기 🏃‍♀️</h2>\n<p>컴포넌트가 렌더링 된다는 것은 함수(컴포넌트)를 호출하여 실행되는 것을 말합니다. 함수가 실행될 때마다 내부에 선언되어 있던 표현식(변수나 또 다른 함수 등)도 매번 다시 선언되어 사용합니다.</p>\n<blockquote>\n<p>컴포넌트는 자신의 <strong><code>state</code>가 변경</strong>되거나, 부모에게서 받는 <strong><code>props</code>가 변경</strong>되었을 때마다 리렌더링 됩니다.</p>\n</blockquote>\n<p>심지어 하위 컴포넌트에 최적화 설정을 해주지 않으면 부모에게서 받는 <code>props</code>가 변경되지 않았더라도 리렌더링 됩니다.</p>\n<blockquote>\n<p>useRef 로 관리하는 변수는 값이 바뀐다고 해서 컴포넌트가 리렌더링되지 않으므로 <strong>리렌더링 방지</strong>에 활용할 수 있습니다.</p>\n</blockquote>\n<h1>3. useRef 로 DOM 선택하는 방법 📢</h1>\n<blockquote>\n<p>useRef() 를 사용하여 <code>Ref</code>객체를 만들고, 이 객체를 선택하고 싶은 DOM 에 <code>ref</code>값으로 설정합니다. 그러면, <code>Ref</code>객체의 <code>.current</code>값은 DOM 을 가리키게 됩니다.</p>\n</blockquote>\n<p>이 포스팅에서 다룰 예제에서는 <code>onReset</code>함수에서 <code>input</code>에 포커스를 하는 focus() DOM API 를 호출해주었습니다. 초기화 버튼을 클릭했을 때 이름 <code>input</code>에 포커스가 잡히도록 useRef 를 사용하여 기능을 구현했습니다.</p>\n<h2>3-1. 객체 생성하기 ✨</h2>\n<p>useRef 를 통해 <code>nameInput</code>이라는 객체를 생성했습니다.</p>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">const nameInput = useRef();</code>\n        </deckgo-highlight-code>\n<h2>3-2. DOM API 사용 💌</h2>\n<p><code>current</code>가 DOM을 가리키고 있으므로 DOM API 중 하나인 <code>focus</code>를 사용했습니다.</p>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">nameInput.current.focus();</code>\n        </deckgo-highlight-code>\n<h2>3-3. DOM 설정을 통해 DOM에 직접 접근하기 📲</h2>\n<p><code>nameInput</code>객체를 선택하고 싶은 DOM 에 설정하여 직접 접근할 수 있습니다.</p>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">&lt;input\n  name=&quot;name&quot;\n  placeholder=&quot;이름&quot;\n  onChange={onChange}\n  value={name}\n  ref={nameInput}\n/&gt;</code>\n        </deckgo-highlight-code>\n<h2>3-4. 예제 전체 코드 🔍</h2>\n<h3>🔎 InputSample.js Code</h3>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React, { useState, useRef } from &#39;react&#39;;\n\nfunction InputSample() {\n  const [inputs, setInputs] = useState({\n    name: &#39;&#39;,\n    nickname: &#39;&#39;,\n  });\n\n  const nameInput = useRef();\n\n  const { name, nickname } = inputs;\n\n  const onChange = e =&gt; {\n    const { value, name } = e.target;\n\n    setInputs({\n      ...inputs,\n      [name]: value,\n    });\n  };\n\n  const onReset = () =&gt; {\n    setInputs({\n      name: &#39;&#39;,\n      nickname: &#39;&#39;,\n    });\n\n    nameInput.current.focus();\n  };\n\n  return (\n    &lt;div&gt;\n      &lt;input\n        name=&quot;name&quot;\n        placeholder=&quot;이름&quot;\n        onChange={onChange}\n        value={name}\n        ref={nameInput}\n      /&gt;\n      &lt;input\n        name=&quot;nickname&quot;\n        placeholder=&quot;닉네임&quot;\n        onChange={onChange}\n        value={nickname}\n      /&gt;\n      &lt;button onClick={onReset}&gt;초기화&lt;/button&gt;\n      &lt;div&gt;\n        &lt;b&gt;값: &lt;/b&gt;\n        {name} ({nickname})\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default InputSample;</code>\n        </deckgo-highlight-code>\n<h3>🔎 App.js Code</h3>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React from &#39;react&#39;;\nimport InputSample from &#39;./InputSample&#39;;\n\nfunction App() {\n  return &lt;InputSample /&gt;;\n}\n\nexport default App;</code>\n        </deckgo-highlight-code>\n<h2>3-5. 실행 결과 💻</h2>\n<p>초기화 버튼을 클릭했을 때 이름 input 에 포커스가 잡힙니다.</p>\n<p><img src=\"https://images.velog.io/images/mnz/post/88cd8d00-fd6a-40cc-af74-54422073ce6b/image.png\" alt=\"img\"></p>\n<h1>4. useRef 로 컴포넌트 안의 변수 만드는 방법 🧙‍♂️</h1>\n<p>useRef() 를 사용할 때 파라미터를 넣어주면, 이 값이 <code>.current</code>값의 기본값이 됩니다. 그리고 이 값을 수정할 때는 <code>.current</code>값을 수정하면 되고 조회할 때는 <code>.current</code>를 조회하면 됩니다.</p>\n<h2>4-1. useRef의 파라미터 💭</h2>\n<p>현재 3개의 <code>id</code>가 있으므로 다음 <code>id</code>의 기본값을 4로 지정했습니다.</p>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">const nextId = useRef(4);</code>\n        </deckgo-highlight-code>\n<h2>4-2. 예제 전체 코드 🔍</h2>\n<h3>🔎 UserList.js Code</h3>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React from &#39;react&#39;;\n\nfunction User({ user }) {\n  return (\n    &lt;div&gt;\n      &lt;b&gt;{user.username}&lt;/b&gt; &lt;span&gt;({user.email})&lt;/span&gt;\n    &lt;/div&gt;\n  );\n}\n\nfunction UserList({ users }) {\n  return (\n    &lt;div&gt;\n      {users.map(user =&gt; (\n        &lt;User user={user} key={user.id} /&gt;\n      ))}\n    &lt;/div&gt;\n  );\n}\n\nexport default UserList;</code>\n        </deckgo-highlight-code>\n<h3>🔎 App.js Code</h3>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React, { useRef, useState } from &#39;react&#39;;\nimport UserList from &#39;./UserList&#39;;\n\nfunction App() {\n  const [inputs, setInputs] = useState({\n    username: &#39;&#39;,\n    email: &#39;&#39;,\n  });\n\n  const { username, email } = inputs;\n\n  const onChange = e =&gt; {\n    const { name, value } = e.target;\n\n    setInputs({\n      ...inputs,\n      [name]: value,\n    });\n  };\n\n  const [users, setUsers] = useState([\n    {\n      id: 1,\n      username: &#39;velopert&#39;,\n      email: &#39;public.velopert@gmail.com&#39;,\n    },\n    {\n      id: 2,\n      username: &#39;tester&#39;,\n      email: &#39;tester@example.com&#39;,\n    },\n    {\n      id: 3,\n      username: &#39;liz&#39;,\n      email: &#39;liz@example.com&#39;,\n    },\n  ]);\n\n  const nextId = useRef(4);\n\n  const onCreate = () =&gt; {\n    const user = {\n      id: nextId.current,\n      username,\n      email,\n    };\n\n    console.log(user.id);\n\n    setUsers(users.concat(user));\n\n    setInputs({\n      username: &#39;&#39;,\n      email: &#39;&#39;,\n    });\n\n    nextId.current += 1;\n  };\n\n  return (\n    &lt;&gt;\n      &lt;div&gt;\n        &lt;input\n          name=&quot;username&quot;\n          placeholder=&quot;계정명&quot;\n          onChange={onChange}\n          value={username}\n        /&gt;\n        &lt;input\n          name=&quot;email&quot;\n          placeholder=&quot;이메일&quot;\n          onChange={onChange}\n          value={email}\n        /&gt;\n        &lt;button onClick={onCreate}&gt;등록&lt;/button&gt;\n      &lt;/div&gt;\n      &lt;UserList users={users} /&gt;\n    &lt;/&gt;\n  );\n}\n\nexport default App;</code>\n        </deckgo-highlight-code>\n<h2>4-3. 실행 결과 💻</h2>\n<p><code>id</code>값으로 <code>nextId.current</code>를 사용합니다.</p>\n<p><img src=\"https://images.velog.io/images/mnz/post/974b8460-a0bc-4680-9ed7-353b056c8adc/%EB%85%B9%ED%99%94_2021_04_22_21_28_08_421.gif\" alt=\"img\"></p>\n<h1>5. 리렌더링 방지하는 방법 🤗</h1>\n<p>위 예시 코드에는 <code>input</code>값이 변경될 때마다 리렌더링 된다는 단점이 있습니다.</p>\n<blockquote>\n<p><code>onChange</code>구현 부분을 <code>ref</code>값으로 대체해서 단점을 해결할 수 있습니다. <strong><code>state</code>로 <code>event</code>의 <code>value</code>에 접근하지 않고 <code>refObject.current.value</code>를 사용</strong>하는 방법입니다.</p>\n</blockquote>\n<h2>5-1. ref 속성 사용하기 ⭐</h2>\n<p><code>input</code>의 <code>onChange</code>를 <code>ref</code>속성으로 대체했습니다.</p>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">&lt;div&gt;\n  &lt;input name=&quot;username&quot; placeholder=&quot;계정명&quot; ref={usernameRef} /&gt;\n  &lt;input name=&quot;email&quot; placeholder=&quot;이메일&quot; ref={emailRef} /&gt;\n  &lt;button onClick={onCreate}&gt;등록&lt;/button&gt;\n&lt;/div&gt;</code>\n        </deckgo-highlight-code>\n<h2>5-2. 예제 전체 코드 🔍</h2>\n<h3>🔎 UserList.js Code</h3>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React from &#39;react&#39;;\n\nfunction User({ user }) {\n  return (\n    &lt;div&gt;\n      &lt;b&gt;{user.username}&lt;/b&gt; &lt;span&gt;({user.email})&lt;/span&gt;\n    &lt;/div&gt;\n  );\n}\n\nfunction UserList({ users }) {\n  return (\n    &lt;div&gt;\n      {users.map(user =&gt; (\n        &lt;User user={user} key={user.id} /&gt;\n      ))}\n    &lt;/div&gt;\n  );\n}\n\nexport default UserList;</code>\n        </deckgo-highlight-code>\n<h3>🔎 App.js Code</h3>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import React, { useRef, useState } from &#39;react&#39;;\nimport UserList from &#39;./UserList&#39;;\nimport InputSample from &#39;./InputSample&#39;;\n\nfunction App() {\n  const [inputs, setInputs] = useState({\n    username: &#39;&#39;,\n    email: &#39;&#39;,\n  });\n\n  const [users, setUsers] = useState([\n    {\n      id: 1,\n      username: &#39;velopert&#39;,\n      email: &#39;public.velopert@gmail.com&#39;,\n    },\n    {\n      id: 2,\n      username: &#39;tester&#39;,\n      email: &#39;tester@example.com&#39;,\n    },\n    {\n      id: 3,\n      username: &#39;liz&#39;,\n      email: &#39;liz@example.com&#39;,\n    },\n  ]);\n\n  const nextId = useRef(4);\n  const usernameRef = useRef(&#39;&#39;);\n  const emailRef = useRef(&#39;&#39;);\n\n  const onCreate = () =&gt; {\n    const user = {\n      id: nextId.current,\n      username: usernameRef.current.value,\n      email: emailRef.current.value,\n    };\n\n    setUsers(users.concat(user));\n\n    setInputs({\n      username: &#39;&#39;,\n      email: &#39;&#39;,\n    });\n\n    nextId.current += 1;\n  };\n\n  console.log(&#39;Render&#39;);\n\n  return (\n    &lt;&gt;\n      &lt;div&gt;\n        &lt;input name=&quot;username&quot; placeholder=&quot;계정명&quot; ref={usernameRef} /&gt;\n        &lt;input name=&quot;email&quot; placeholder=&quot;이메일&quot; ref={emailRef} /&gt;\n        &lt;button onClick={onCreate}&gt;등록&lt;/button&gt;\n      &lt;/div&gt;\n      &lt;UserList users={users} /&gt;\n      &lt;InputSample /&gt;\n    &lt;/&gt;\n  );\n}\n\nexport default App;</code>\n        </deckgo-highlight-code>\n<h2>5-3. 실행 결과 💻</h2>\n<p>처음 컴포넌트를 불러왔을 때, 등록 버튼을 눌렀을 때 2번만 렌더링 되는 것을 확인할 수 있습니다.</p>\n<p><img src=\"https://images.velog.io/images/mnz/post/3dca198c-aed8-4387-a4d6-51df8fcbe5f6/%ED%99%94%EB%A9%B4%20%EC%BA%A1%EC%B2%98%202021-05-14%20205808.png\" alt=\"inputvalue\"></p>\n<h1>마치며</h1>\n<p>useRef 개념에 대해 알아본 후 대표적인 3가지 활용 방법을 예제와 함께 정리했습니다.</p>\n<ol>\n<li>\n<p>특정 DOM 선택하기</p>\n</li>\n<li>\n<p>변수 생성하기</p>\n</li>\n<li>\n<p>리렌더링 방지하기</p>\n</li>\n</ol>\n<hr />\n<h3>참고 자료 📩</h3>\n<ul>\n<li>\n<p><a href=\"https://ko.reactjs.org/docs/hooks-reference.html#useref\" target=\"_blank\" rel=\"nofollow\">Hooks API Reference</a></p>\n</li>\n<li>\n<p><a href=\"https://learnjavascriptfast.com/chapter-7-the-javascript-document-object-model/2/\" target=\"_blank\" rel=\"nofollow\">Chapter 7: The Javascript Document Object Model</a></p>\n</li>\n<li>\n<p><a href=\"https://livebook.manning.com/book/react-hooks-in-action/chapter-6/v-3/\" target=\"_blank\" rel=\"nofollow\">6 Managing component state with the useRef hook</a></p>\n</li>\n<li>\n<p><a href=\"https://react.vlpt.us/basic/10-useRef.html\" target=\"_blank\" rel=\"nofollow\">useRef 로 특정 DOM 선택하기</a></p>\n</li>\n<li>\n<p><a href=\"https://react.vlpt.us/basic/12-variable-with-useRef.html\" target=\"_blank\" rel=\"nofollow\">useRef 로 컴포넌트 안의 변수 만들기</a></p>\n</li>\n<li>\n<p><a href=\"https://react.vlpt.us/basic/13-array-insert.html\" target=\"_blank\" rel=\"nofollow\">배열에 항목 추가하기</a></p>\n</li>\n<li>\n<p><a href=\"https://velog.io/@kysung95/%EC%A7%A4%EB%A7%89%EA%B8%80-useRef%EA%B0%80-%EB%AD%94%EA%B0%80%EC%9A%94\" target=\"_blank\" rel=\"nofollow\">[짤막글] useRef가 뭔가요?</a></p>\n</li>\n</ul>","timeToRead":7,"frontmatter":{"title":"[React] useRef는 처음이라 :: 개념부터 활용 예시까지","summary":"React useRef 개념과 대표적인 3가지 활용 방법을 예제와 함께 정리했습니다. [1] 특정 DOM 선택하기 [2] 컴포넌트 안의 변수 만들기 [3] 리렌더링 방지하기","date":"14 May, 2021","category":"React","thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACHElEQVQozz2RW0/UUBhFG1+Y9vT0tOfS22lLZ6YzDJcBjIpyk5skiBJfTTAY/f//YRlK5GE97rW/7C/oVtvYukFZhzKW1DlUXiKtI1KKUCZMZMKGiFFWo3LLhhBM4piNMCTUlmS5S1I2JDon0LMlrp1iy4rcd9iyRruSKEmJEoW0ZiSxBl0VKGdH2US8CMVsgXx3jPpwTuKnBFo7pv2c2WqberWL215g+hI3r0l9zsRIQpsQmoQ3kwlCqbFoIxII3yFPLhBfvhOe3hD5niDWln69xepol3bd0+1NKRaetHV0yzk/H39xcnbBx5Mzrm5uKdt2nCAUMXLYQp5eEl5/JTq+RM63CEKtmc4WzHcO8MNA03cUfU/sHFXX8fTnL49Pv0fuH35Qtd14YSQkwhXIs2ui82uST+cY7wlCZ6iqTdrpnMo3mLxCFxVZXo4oV1HWDd18oGw6UpsTpxoRS+K6RewdEh+doqczcp0SRE4T1wP1/inv3x6wWG2zs7dm//AQ321yfHbB3bcHbu/u+Xx1gzJuFMYqQ6iMKLNE9vlZOWVREIjcoKqefFizOSyp201sUZFo94rMLEJp4tSQaItMNZFMETJFqgxrHI1vaJqOIKkLImWQ2iJS8xp8lvwXKpO/oHOSzJLZAld5St9Q+pasbsdpYqEIZOGQfk4x7ODKetzwOfwie5G8ynSOTC22qEdkagh9z6QdiLKCWGr+ARF6BTC56Gu5AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/840de425146926bdb4431d0cdf312f26/25b42/use-ref.png","srcSet":"/static/840de425146926bdb4431d0cdf312f26/f144d/use-ref.png 183w,\n/static/840de425146926bdb4431d0cdf312f26/50beb/use-ref.png 365w,\n/static/840de425146926bdb4431d0cdf312f26/25b42/use-ref.png 730w","sizes":"(min-width: 730px) 730px, 100vw"},"sources":[{"srcSet":"/static/840de425146926bdb4431d0cdf312f26/c97dd/use-ref.webp 183w,\n/static/840de425146926bdb4431d0cdf312f26/2772f/use-ref.webp 365w,\n/static/840de425146926bdb4431d0cdf312f26/c85f2/use-ref.webp 730w","type":"image/webp","sizes":"(min-width: 730px) 730px, 100vw"}]},"width":730,"height":365}},"publicURL":"/static/840de425146926bdb4431d0cdf312f26/use-ref.png"}}}}]}},"pageContext":{"slug":"/react/what-is-use-ref/"}},
    "staticQueryHashes": ["2368566813","3026479947","3227158195","413061808"]}