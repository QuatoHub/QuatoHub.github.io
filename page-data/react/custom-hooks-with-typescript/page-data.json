{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/react/custom-hooks-with-typescript/",
    "result": {"data":{"posts":{"edges":[{"node":{"id":"35a6513d-bbbc-5cc8-b1e8-a166636edc09","html":"<h1>들어가며</h1>\n<p>React 프로젝트에서 사용자의 입력값을 받는 <strong>커스텀 Hooks를 생성하고 TypeScript 타입을 지정하는 과정</strong>입니다. <code>hooks</code>디렉터리를 만들고, 그 안에 <code>useInput.ts</code>파일을 만들었습니다. 커스텀 Hooks 를 만들 때는 보통 이렇게 <code>use</code>라는 키워드로 시작하는 파일을 만들고 그 안에 함수를 작성한다고 합니다. 해당 코드를 작성한 <a href=\"https://github.com/mnxmnz/Twitter-Clone-Frontend/blob/main/hooks/useInput.ts\" target=\"_blank\" rel=\"nofollow\">GitHub Repository</a> 링크입니다.</p>\n<h2>[1] 중복 코드 파악하기</h2>\n<p>커스텀 Hooks 를 생성하기 전, 중복 코드를 먼저 파악했습니다. 로그인 페이지와 회원가입 페이지에서 중복 코드가 발생했습니다. 아래는 로그인 페이지에서 사용자의 아이디와 비밀번호를 입력값을 저장하는 코드입니다. state 값인 id, password 만 다르고 <code>setValue(e.target.value)</code> 로직이 반복되고 있습니다.</p>\n<p><strong>components/LoginForm.tsx</strong></p>\n<deckgo-highlight-code language=\"tsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">const [id, setId] = useState(&#39;&#39;);\nconst [password, setPassword] = useState(&#39;&#39;);\n\nconst onChangeId = useCallback(e =&gt; {\n  setId(e.target.value);\n}, []);\n\nconst onChangePassword = useCallback(e =&gt; {\n  setPassword(e.target.value);\n}, []);</code>\n        </deckgo-highlight-code>\n<h2>[2] 원하는 기능을 구현한 커스텀 Hooks 만들기</h2>\n<p>state 초기값을 <code>initialValue</code> 에 저장했습니다. onChangeForm 함수는 반복 로직인 <code>setValue(e.target.value)</code> 기능을 구현한 함수입니다.</p>\n<p><strong>hooks/useInput.ts</strong></p>\n<deckgo-highlight-code language=\"tsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import { useState, useCallback } from &#39;react&#39;;\n\nconst useInput = initialValue =&gt; {\n  const [userFormInput, setUserFormInput] = useState(initialValue);\n\n  const onChangeForm = useCallback(e =&gt; {\n    setUserFormInput(e.target.value);\n  }, []);\n\n  return [userFormInput, onChangeForm];\n};\n\nexport default useInput;</code>\n        </deckgo-highlight-code>\n<p>로그인 페이지에서 <code>useInput</code> 을 적용하면 아래와 같이 코드 수를 줄일 수 있습니다. 👍</p>\n<p><strong>components/LoginForm.tsx</strong></p>\n<deckgo-highlight-code language=\"tsx\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">const [id, onChangeId] = useInput(&#39;&#39;);\nconst [password, onChangePassword] = useInput(&#39;&#39;);</code>\n        </deckgo-highlight-code>\n<h2>[3] TypeScript 타입 지정하기</h2>\n<p>커스텀 Hooks 생성 후 타입을 지정하려고 하면 다음과 같은 TS 에러가 발생합니다. <code>TS 2488 typescript 반복기를 반환하는 '[Symbol.iterator]()' 메서드가 있어야 합니다.</code></p>\n<blockquote>\n<p>return 값에 해당하는 <code>[userFormInput, onChangeForm]</code> 타입을 지정하면 해결할 수 있습니다.</p>\n</blockquote>\n<p>state 의 초깃값을 (\"\")으로 지정하고 사용할 것이기 때문에 <code>string</code> 으로 설정했습니다.</p>\n<p><strong>hooks/useInput.ts</strong></p>\n<deckgo-highlight-code language=\"ts\" terminal=\"carbon\" theme=\"seti\"  >\n          <code slot=\"code\">import { useState, useCallback, ChangeEvent } from &#39;react&#39;;\n\ntype UserInputProps = [string, (e: ChangeEvent) =&gt; void];\n\nconst useInput = (initialValue: string): UserInputProps =&gt; {\n  const [userFormInput, setUserFormInput] = useState(initialValue);\n\n  const onChangeForm = useCallback(e =&gt; {\n    setUserFormInput(e.target.value);\n  }, []);\n\n  return [userFormInput, onChangeForm];\n};\n\nexport default useInput;</code>\n        </deckgo-highlight-code>\n<h1>마치며</h1>\n<p>커스텀 Hooks 생성 후 TypeScript 타입 지정하는 방법에 대해 알아봤습니다. 🤗 로그인과 회원가입 구현이 처음이라면 직접 하시는 것을 추천하지만, 그렇지 않다면 <a href=\"https://react-hook-form.com/\" target=\"_blank\" rel=\"nofollow\">React Hook Form</a> 라이브러리를 사용하시는 것도 괜찮을 거 같다고 생각합니다. 📚</p>\n<hr />\n<h3>참고 자료 📩</h3>\n<ul>\n<li>\n<p><a href=\"https://www.inflearn.com/course/%EB%85%B8%EB%93%9C%EB%B2%84%EB%93%9C-%EB%A6%AC%EC%95%A1%ED%8A%B8-%EB%A6%AC%EB%89%B4%EC%96%BC\" target=\"_blank\" rel=\"nofollow\">[리뉴얼] React로 NodeBird SNS 만들기</a></p>\n</li>\n<li>\n<p><a href=\"https://react.vlpt.us/basic/21-custom-hook.html\" target=\"_blank\" rel=\"nofollow\">21. 커스텀 Hooks 만들기</a></p>\n</li>\n<li>\n<p><a href=\"https://fettblog.eu/typescript-react-typeing-custom-hooks/\" target=\"_blank\" rel=\"nofollow\">TypeScript + React: Typing custom hooks with tuple types</a></p>\n</li>\n<li>\n<p><a href=\"https://velog.io/@ghkstmd00/React-Custom-Hook-TypeScript\" target=\"_blank\" rel=\"nofollow\">React Custom Hook &#x26; TypeScript</a></p>\n</li>\n</ul>","timeToRead":2,"frontmatter":{"title":"[React] 커스텀 Hooks 생성 후 TypeScript 타입 지정하기","summary":"React 프로젝트에서 사용자의 입력값을 받는 커스텀 Hooks를 생성하고 TypeScript 타입을 지정하는 과정입니다.","date":"13 September, 2021","category":"React","thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACLElEQVQoz12SS2/bRhSFiW4kcjgz5Dz4GlIiJcqSYztO0rwcy7DjOHaTtmiTVYE0iPv/f8RXSA6yyOLbHOCce3HPjWabQ1zTop1HW0fmPbqokM6TaE0sFVOpmIgU7Qy6cEyEYJqmTOKY2DjUwRGqalGmIDKLA3w34KqaIsxwVYPxFYnKSJRGOov6jqlLtHf7sKl4CBSLFfLXM/SLC1QYiIzxDP2SxeaQZnOEP1xh+wq/bMhCwdRKYqeYWsUv0ylC6/2gSSIQYYZ8c4m4+YP4/B1J6IlS4+hP1mxeHtGd9MyOB8pVIO8KZuuRf7585c32kldnW97e3FJ33f4MsUiR4xp5fkV8/YHk7Aq5XBPFxjAsViwfnRLGkbafUczn7PSy7fj32z1fvt3z9f4/Pv75F2UTmAhJIlKEL5Hba5KLa9TrC2wIRLG31PWcblhShw5TVLi6ZVitqbse38xxey1QNC1hPlCGFpFK0qZDHD8hfXmOGRYUJiNKvCFtRprH5zx/espqs+H49JS/P3/i7sPv3Pz2ke3lW569eMW72zuu39+xvbwis554V1zuSNyurIKqLIlEYdF1TzGeMB8PaGZzbFmjrUcZj8wtafaA3JFbhMpJZIaQGVLnOOtpQ0vbzohUU5JoizQOkVmENg/m3O0Dd7+l7XdMgco9xpX4OlCFlip05E2H9jWp0ESy9MiwpBwf4asGW9R784+wn1CZw5XNnt3GceiZdiNJXpJKw/+j8wdu9iMU5AAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/169d77bc4c258936f250af33a4d1d6de/25b42/custom-hooks-with-typescript.png","srcSet":"/static/169d77bc4c258936f250af33a4d1d6de/f144d/custom-hooks-with-typescript.png 183w,\n/static/169d77bc4c258936f250af33a4d1d6de/50beb/custom-hooks-with-typescript.png 365w,\n/static/169d77bc4c258936f250af33a4d1d6de/25b42/custom-hooks-with-typescript.png 730w","sizes":"(min-width: 730px) 730px, 100vw"},"sources":[{"srcSet":"/static/169d77bc4c258936f250af33a4d1d6de/c97dd/custom-hooks-with-typescript.webp 183w,\n/static/169d77bc4c258936f250af33a4d1d6de/2772f/custom-hooks-with-typescript.webp 365w,\n/static/169d77bc4c258936f250af33a4d1d6de/c85f2/custom-hooks-with-typescript.webp 730w","type":"image/webp","sizes":"(min-width: 730px) 730px, 100vw"}]},"width":730,"height":365}},"publicURL":"/static/169d77bc4c258936f250af33a4d1d6de/custom-hooks-with-typescript.png"}}}}]}},"pageContext":{"slug":"/react/custom-hooks-with-typescript/"}},
    "staticQueryHashes": ["2368566813","3026479947","3227158195","413061808"]}